(this.webpackJsonpmeetingapp=this.webpackJsonpmeetingapp||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),r=n.n(i),c=n(10),s=n.n(c),o=(n(158),n(159),n(12)),l=n(27),j=n(290),d=n(62),u=n(275),b=n(268),h=n(291),m=n(274),x=n(287),p=n(276),O=n(75),g=n.n(O),f=n(65),v=n(263),w=n(266),y=n(34),k=n.n(y),S=n(17),C=(n(68),Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));function T(){var e=C(),t=Object(i.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(i.useState)(null),o=Object(l.a)(s,2),O=o[0],v=o[1];return Object(a.jsxs)(w.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(S.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(j.a,{className:e.avatar,children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Email/Username",name:"username",onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(a.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",onChange:function(e){return v(e.target.value)},id:"password"}),Object(a.jsx)(m.a,{control:Object(a.jsx)(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(u.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){var e={username:r,password:O};k.a.post("http://localhost:4000/app/login",e).then((function(e){console.log(e),"error"==e.data.status?(console.log("no auth"),S.b.error("Invalid Username/Password")):(localStorage.setItem("Token",e.data.Token),localStorage.setItem("User",e.data.user),S.b.success("Logged Sucessfully"),window.location.href="/profile")}))},children:"Sign In"}),Object(a.jsxs)(p.a,{container:!0,children:[Object(a.jsx)(p.a,{item:!0,xs:!0,children:Object(a.jsx)(d.Link,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(p.a,{item:!0,children:Object(a.jsx)(d.Link,{to:"/signup",href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}var I=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function N(){var e=I(),t=Object(i.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(i.useState)(null),o=Object(l.a)(s,2),O=o[0],v=o[1],y=Object(i.useState)(null),C=Object(l.a)(y,2),T=C[0],N=C[1],M=Object(i.useState)(null),L=Object(l.a)(M,2),D=L[0],F=L[1];return Object(a.jsxs)(w.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(S.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)(b.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(j.a,{className:e.avatar,children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(h.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:function(e){return N(e.target.value)},autoFocus:!0})}),Object(a.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",onChange:function(e){return F(e.target.value)},x:!0})}),Object(a.jsx)(p.a,{item:!0,xs:12,children:Object(a.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Email/Username",name:"username",onChange:function(e){return c(e.target.value)}})}),Object(a.jsx)(p.a,{item:!0,xs:12,children:Object(a.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return v(e.target.value)}})}),Object(a.jsx)(p.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{control:Object(a.jsx)(x.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(a.jsx)(u.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){var e={username:r,password:O,firstname:T,lastname:D};k.a.post("http://localhost:4000/app/signup",e).then((function(e){"error"==e.data.status?(S.b.error("Username/Email is already existed"),window.location.reload()):(S.b.success("User is registered Sucessfully"),window.location.href="/")})),c(null),v(null),N(null),F(null)},children:"Sign Up"}),Object(a.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(p.a,{item:!0,children:Object(a.jsx)(d.Link,{to:"/",href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var M=n(94),L=n.n(M),D=n(130),F=n(77),R=n(78),W=n(81),P=n(80),U=n(292),z=n(277),A=n(271),B=n(286),E=function(e){Object(W.a)(n,e);var t=Object(P.a)(n);function n(){var e;return Object(F.a)(this,n),(e=t.call(this)).handleChange=function(){var t=Object(D.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("event"+n.target.value),t.next=3,e.setState({time:n.target.value});case 3:console.log(e.state.time);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendInvite=function(){if(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.state.email)){var t={time:e.state.time,email:e.state.email};k.a.post("http://localhost:4000/app/inviteuser",t).then((function(e){"error"==e.data.statu?S.b.error("Cannot proceed your request"):S.b.success("Invitation is sent sucessfully")}))}else!1,S.b.error("Please enter a valid email")},e.state={email:null,time:null},e}return Object(R.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)(f.a,{variant:"h3",gutterBottom:!0,style:{textAlign:"center"},children:"Invite Meeting"}),Object(a.jsx)(h.a,{id:"standard-basic",label:"User Email",onChange:function(t){return e.setState({email:t.target.value})}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(A.a,{style:{width:"12%"},children:[Object(a.jsx)(U.a,{id:"demo-simple-select-label",children:"Meeting Time"}),Object(a.jsxs)(B.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.time,onChange:this.handleChange,children:[Object(a.jsx)(z.a,{value:"2021-01-10T01:00:00.000",children:"01:00 am"}),Object(a.jsx)(z.a,{value:"2021-01-10T03:00:00.000",children:"03:00 am"}),Object(a.jsx)(z.a,{value:"2021-01-10T06:00:00.000",children:"06:00 am"}),Object(a.jsx)(z.a,{value:"2021-01-10T08:00:00.000",children:"08:00 am"}),Object(a.jsx)(z.a,{value:"2021-01-10T10:00:00.000",children:"10:00 am"})]}),Object(a.jsx)(u.a,{variant:"contained",onClick:this.sendInvite,color:"primary",size:"small",style:{marginTop:"8%",width:"10%"},children:"Invite"})]})]})}}]),n}(i.Component),q=n(279),H=n(283),J=n(282),Z=n(278),V=n(280),$=n(281),_=n(272),G=function(e){Object(W.a)(n,e);var t=Object(P.a)(n);function n(){var e;return Object(F.a)(this,n),(e=t.call(this)).fetchData=function(){k.a.get("http://localhost:4000/app/viewInvites").then((function(t){e.setState({meetings:t.data}),console.log("data"+JSON.stringify(e.state.meetings))}))},e.acceptMeeting=function(t){var n={meetingId:t};console.log("I am working"),k.a.post("http://localhost:4000/app/acceptMeeting",n).then((function(e){console.log(e)})),e.fetchData()},e.deleteMeeting=function(t){var n={meetingId:t};k.a.post("http://localhost:4000/app/deleteMeeting",n).then((function(e){console.log(e)})),e.fetchData()},e.meetingTimeAdjust=function(e){var t=Intl.DateTimeFormat().resolvedOptions().timeZone;return console.log("timezone is "+t),new Date(e).toLocaleString("en-US",{timeZone:t})},e.state={meetings:[]},e}return Object(R.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(w.a,{children:[Object(a.jsx)(S.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsx)(f.a,{variant:"h3",gutterBottom:!0,style:{textAlign:"center"},children:"My Meetings"}),Object(a.jsx)(Z.a,{component:_.a,children:Object(a.jsxs)(q.a,{"aria-label":"simple table",children:[Object(a.jsx)(V.a,{children:Object(a.jsxs)($.a,{children:[Object(a.jsx)(J.a,{children:"Meeting From"}),Object(a.jsx)(J.a,{children:"Meeting With"}),Object(a.jsx)(J.a,{children:"Meeting Date & Time"}),Object(a.jsx)(J.a,{children:"Time Zone"}),Object(a.jsx)(J.a,{children:"Action"}),Object(a.jsx)(J.a,{children:"Delete"})]})}),Object(a.jsx)(H.a,{children:this.state.meetings.map((function(t){return Object(a.jsxs)($.a,{children:[Object(a.jsx)(J.a,{component:"th",scope:"row",children:t.meetingFrom}),Object(a.jsx)(J.a,{children:t.meetingWith}),Object(a.jsx)(J.a,{children:e.meetingTimeAdjust(t.meetingTime)}),Object(a.jsx)(J.a,{children:Intl.DateTimeFormat().resolvedOptions().timeZone}),Object(a.jsx)(J.a,{children:t.accepted?Object(a.jsx)(u.a,{disabled:!0,variant:"contained",size:"small",color:"primary",children:"Accepted"}):Object(a.jsx)(u.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return e.acceptMeeting(t._id)},children:"Accept"})}),"                  ",Object(a.jsx)(J.a,{children:Object(a.jsx)(u.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){return e.deleteMeeting(t._id)},children:"Delete"})})]},t.name)}))})]})})]})}}]),n}(i.Component),K=n(137),Q=n(36),X=n(37),Y=n(131),ee=n.n(Y);function te(){var e=Object(Q.a)(["\n  width: 45%;\n  background-color: lightgray;\n  color: #001529;\n  border: 1px solid lightgray;\n  padding: 10px;\n  margin-left: 5px;\n  text-align: center;\n"]);return te=function(){return e},e}function ne(){var e=Object(Q.a)(["\n  justify-content: flex-start;\n"]);return ne=function(){return e},e}function ae(){var e=Object(Q.a)(["\n  width: 45%;\n  background-color: white;\n  color: #001529;\n  padding: 10px;\n  margin-right: 5px;\n  text-align: center;\n"]);return ae=function(){return e},e}function ie(){var e=Object(Q.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n"]);return ie=function(){return e},e}function re(){var e=Object(Q.a)(["\n  width: 400px;\n"]);return re=function(){return e},e}function ce(){var e=Object(Q.a)(["\n  background-color: #001529;\n  width: 50%;\n  border: none;\n  height: 50px;\n  border-radius: 10px;\n  font-weight: bold;\n  color: white;\n  margin-left:25%;\n  font-size: 17px;\n"]);return ce=function(){return e},e}function se(){var e=Object(Q.a)(["\n  width: 98%;\n  height: 100px;\n  border-radius: 10px;\n  margin-top: 10px;\n  padding-left: 10px;\n  padding-top: 10px;\n  font-size: 17px;\n  background-color:#001529;\n  border: 1px solid lightgray;\n  outline: none;\n  color: lightgray;\n  letter-spacing: 1px;\n  line-height: 20px;\n  ::placeholder {\n    color: lightgray;\n  }\n"]);return se=function(){return e},e}function oe(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 500px;\n  max-height: 500px;\n  overflow: auto;\n  background-color:#001529;\n  opacity: 0.9;\n  width: 400px;\n  border: 1px solid lightgray;\n  border-radius: 10px;\n  padding-bottom: 10px;\n  margin-top: 25px;\n"]);return oe=function(){return e},e}function le(){var e=Object(Q.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100%;\n  align-items: center;\n  background-color: white;\n  flex-direction: column;\n"]);return le=function(){return e},e}var je=X.a.div(le()),de=X.a.div(oe()),ue=X.a.textarea(se()),be=X.a.button(ce()),he=X.a.form(re()),me=X.a.div(ie()),xe=X.a.div(ae()),pe=Object(X.a)(me)(ne()),Oe=X.a.div(te()),ge=function(){var e=Object(i.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)([]),s=Object(l.a)(c,2),o=s[0],j=s[1],d=Object(i.useState)(""),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(i.useRef)();return Object(i.useEffect)((function(){m.current=ee.a.connect("/chat"),m.current.on("your id",(function(e){r(e)})),m.current.on("message",(function(e){console.log("here"),function(e){j((function(t){return[].concat(Object(K.a)(t),[e])}))}(e)}))}),[]),Object(a.jsxs)(je,{children:[Object(a.jsx)(de,{children:o.map((function(e,t){return e.id===n?Object(a.jsx)(me,{children:Object(a.jsxs)(xe,{children:[Object(a.jsx)("p",{style:{fontSize:"10px",width:"100%",textAlign:"left",marginTop:"-5%",float:"left",fontWeight:"bold"},children:"Sent:"}),e.body]})},t):Object(a.jsx)(pe,{children:Object(a.jsxs)(Oe,{children:[Object(a.jsx)("p",{style:{fontSize:"10px",width:"100%",textAlign:"left",marginTop:"-5%",float:"left",fontWeight:"bold"},children:"Recieved:"}),e.body]})},t)}))}),Object(a.jsxs)(he,{onSubmit:function(e){if(e.preventDefault(),""==b)window.alert("Cannot send empty message");else{var t={body:b,id:n};h(""),m.current.emit("send message",t),console.log("Message object : "+JSON.stringify(t))}},children:[Object(a.jsx)(ue,{value:b,onChange:function(e){h(e.target.value)},placeholder:"Say something..."}),Object(a.jsx)(be,{children:"Send"})]})]})},fe=n(29),ve=n(294),we=n(295),ye=n(296),ke=n(289),Se=n(273),Ce=n(225),Te=n(284),Ie=n(285),Ne=Object(v.a)((function(e){return{drawerPaper:{width:"inherit"},link:{textDecoration:"none",color:e.palette.text.primary}}}));function Me(){var e=Ne();return Object(a.jsx)(fe.BrowserRouter,{children:Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(ke.a,{style:{width:"220px"},variant:"persistent",anchor:"left",open:!0,classes:{paper:e.drawerPaper},children:Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(fe.Link,{to:"/profile",className:e.link,children:Object(a.jsxs)(Ce.a,{button:!0,children:[Object(a.jsx)(Te.a,{children:Object(a.jsx)(ve.a,{})}),Object(a.jsx)(Ie.a,{primary:"Home"})]})}),Object(a.jsx)(fe.Link,{to:"/meeting",className:e.link,children:Object(a.jsxs)(Ce.a,{button:!0,children:[Object(a.jsx)(Te.a,{children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(Ie.a,{primary:"Invite Meeting"})]})}),Object(a.jsx)(fe.Link,{to:"/invites",className:e.link,children:Object(a.jsxs)(Ce.a,{button:!0,children:[Object(a.jsx)(Te.a,{children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(Ie.a,{primary:"Invited Meetings"})]})}),Object(a.jsx)(fe.Link,{to:"/chat",className:e.link,children:Object(a.jsxs)(Ce.a,{button:!0,children:[Object(a.jsx)(Te.a,{children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(Ie.a,{primary:"Messages"})]})}),Object(a.jsx)(fe.Link,{className:e.link,onClick:function(){localStorage.removeItem("Token"),window.location.href="/"},children:Object(a.jsxs)(Ce.a,{button:!0,children:[Object(a.jsx)(Te.a,{children:Object(a.jsx)(ye.a,{})}),Object(a.jsx)(Ie.a,{primary:"Logout"})]})})]})}),Object(a.jsxs)(o.Switch,{children:[Object(a.jsx)(o.Route,{exact:!0,path:"/profile",children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(f.a,{variant:"h3",gutterBottom:!0,style:{textAlign:"center"},children:"Welcome User"}),Object(a.jsxs)("h3",{children:["Email: ",localStorage.getItem("User")]})]})}),Object(a.jsx)(o.Route,{exact:!0,path:"/meeting",children:Object(a.jsx)(w.a,{children:Object(a.jsx)(E,{})})}),Object(a.jsx)(o.Route,{exact:!0,path:"/invites",children:Object(a.jsx)(w.a,{children:Object(a.jsx)(G,{})})}),Object(a.jsx)(o.Route,{exact:!0,path:"/chat",children:Object(a.jsx)(w.a,{children:Object(a.jsx)(ge,{})})})]})]})})}var Le=function(){return Object(a.jsxs)(o.Switch,{children:[Object(a.jsx)(o.Route,{exact:!0,path:"/",component:T}),Object(a.jsx)(o.Route,{exact:!0,path:"/signup",component:N}),Object(a.jsx)(o.Route,{exact:!0,path:"/profile",component:Me}),Object(a.jsx)(o.Route,{exact:!0,path:"/meeting",component:E}),Object(a.jsx)(o.Route,{exact:!0,path:"/invites",component:G}),Object(a.jsx)(o.Route,{exact:!0,path:"/chat",component:ge})]})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,297)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(fe.BrowserRouter,{children:Object(a.jsx)(Le,{})})}),document.getElementById("root")),De()}},[[223,1,2]]]);
//# sourceMappingURL=main.680dfa3c.chunk.js.map